\newcommand{\institut}{Institut f\"ur Energie und  Automatisiertungstechnik}
\newcommand{\fachgebiet}{Elektronische Mess- und Diagnosetechnik}
\newcommand{\veranstaltung}{Praktikum Messdatenverarbeitung}
\newcommand{\pdfautor}{\"Ozg\"u Dogan (326 048), Timo Lausen (325 411), Boris Henckell (325 779)}
\newcommand{\autor}{\"Ozg\"u Dogan (326 048)\\ Timo Lausen (325 411)\\ Boris Henckell (325 779)}
\newcommand{\pdftitle}{Praktikum Messdatenverarbeitung  Termin 7}
\newcommand{\prototitle}{Praktikum Messdatenverarbeitung \\ Termin 7}
\newcommand{\aufgabe}{}

\newcommand{\gruppe}{Gruppe: G1 Fr 08-10}
\newcommand{\betreuer}{Betreuer: J\"urgen Funk}

\input{../../packages/tu_header_8}
%\begin{document}

% \lstlistoflistings
\definecolor{darkgray}{rgb}{0.95,0.95,0.95}
\definecolor{darkolivegreen}{HTML}{01a801}
\definecolor{functionsBlue}{HTML}{32b9b9}
\definecolor{variableRed}{rgb}{1,0,0}
\definecolor{stringBrown}{HTML}{bc8e8e} % f geht nicht

\lstset{
        %\lstset{extendedchars=true} % Umlaute an der richtigen stelle und nicht am Anfang ausgeben
        %basicstyle=\footnotesize\ttfamily,
        basicstyle=\small,
        %
        inputencoding=utf8,
        %
        tabsize=4,
        showspaces=false,
        showtabs=false,
        showstringspaces=true, % no special string spaces
        %
        backgroundcolor=\color{darkgray}, % background
        stringstyle=\color{stringBrown}\fseries, % Strings
        keywordstyle=\color{functionsBlue}\bfseries, % keywords Blau
        identifierstyle=\color{variableRed}, % variablen
        commentstyle=\color{darkolivegreen}, %  comments
        %
        breaklines=true,
        %
        numbers=left,
        numberstyle=\tiny,
        stepnumber=1,
        numbersep=7pt,
        %
        frame=single,
        columns=flexible,
        %
        xleftmargin=-2cm,
        xrightmargin=-1.5cm,
        %
        language=Matlab
}


%---------------------------------------------------------------------
%---------------------------------------------------------------------
%---------------------------------------------------------------------


\section{Vorbereitungsaufgaben}
\begin{quote}
    
    \subsection{Vorbereitungsaufgaben zu Termin 7}
    \begin{quote}
        
        \subsubsection{Chirp-Signal erzeugen}
        \begin{quote}
        
        Als erstes sollte anhand Matlab ein chirp-Signal erzeugt und untersucht
        werden. Dieser wurde mit dem Aufruf chirp() erzeugt, dem man einen
        Zeitvektor, die Startfrequenz und weitere Angaben über den Verlauf geben
        konnte. Bei unserem Signal sollte ein linearer Frequenzanstieg erfolgen. 
        
        \end{quote}%ende Chirp-Signal erzeugen
	    
	    \subsubsection{Matlab-Funktion: Frequenzverlau über der Zeit}
	    \begin{quote}
	    
	    Als nächstes sollte eine Matlab-Funktion erstellt werden, die im
	    Zeitbereichdie momentane Frequenz ermittelt. Dieser berechnete
	    Frequenzverlauf über der Zeit sollte geplottet und mit dem erwarteten
	    Verlauf verglichen werden. In die erstellte Funktion kann in den Codes am
	    Ende des Protokolls eingesehen werden. Der entstandene Plot ist hier zu
	    sehen:
	    
	    \begin{figure}[H]
                    \centering
                        \includegraphics[scale=0.5, trim = 1cm 8cm 1.5cm 8cm,
                        clip]{./Bilder/chirpsignal_vs_frequenzanstieg}
                            \caption{Chirp-Signal und der dazugehörige
                            Frequenzanstieg, berechnet aus dem Zeitsignal}
                            \label{fig:./Bilder/chirpsignal_vs_frequenzanstieg}
                    \end{figure}
	    \end{quote}
	    
	    Da beim Erstellen des Chirpsignals ein linearer Ansteig der Frequenz
	    vorausgesetzt war, wurde auch ein linearer Frequenzverlauf erwartet. Das
	    Ergebnis bestätigt die Erwartung.
	    
	    \end{quote}% ende Matlab-Funktion: Frequenzverlauf über der Zeit
	    
	    \subsubsection{Matlab-Funktion: Frequenzverlauf anhand Spektrogram}
	    \begin{quote}
	    
	    Nun sollte der gleiche Frequenzverlauf anhand des Spektrogramms ermittelt
	    werden. Dafür implementierten wir eine weitere Matlab-Funktion, welche in
	    den Codes zu sehen ist. Das erwartete Ergebnis war wieder ein positiver
	    linearer Anstieg.
	    
	    \begin{figure}[H]
                    \centering
                        \includegraphics[scale=0.5, trim = 1cm 8cm 1.5cm 8cm,
                        clip]{./Bilder/chirpsignal_vs_frequenzanstieg_spectrogram}
                        \caption{Chirp-Signal und der dazugehörige
                            Frequenzanstieg, berechnet aus dem Spektrogramm}
                            \label{fig:./Bilder/chirpsignal_vs_frequenzanstieg_spectrogram}
                    \end{figure}
       
	    \TODO{Bild von Boris plotten und einbinden}
	        
	    \end{quote}% ende Matlab-Funktion: Frequenzverlauf anhand Spektrogram
         
	    \subsubsection{Drehzahl-Berechnung anhand Amplitudenspektrum des
	    Motorstroms}
	    \begin{quote}
	    
	    Zuletzt wurde die Drehzahl des verwendeten Motors berechnet. Dafür wurden
	    uns drei Messreihen mit jeweils Strom- und Tachomesswerten vorgegeben.
	    Zunächst sollten die Amplitudenspektren der Motorströme erstellt werden,
	    welche uns durch die DFT der Stromwerte gelang. Die erhöhten Amplitudenwerte entsprachen
	    dabei den einfachen Vielfachen der Drehfrequenz des Motors mit der
	    jeweiligen Versorgungsspannung. Die deutlich herausstehenden Peaks dagegen
	    traten nur bei dem 18- oder 36-fachen Vielfachen der Drehfrequenz auf.
	    Dieses Wissen nutzen wir, indem wir anhand eines Matlabalgorithmuses den
	    höhsten Peak mit Index ausgaben lassen (die höchsten Peaks waren stets
	    jene, die am nächsten zu der null standen), um daraus eine Frequenz zu
	    bestimmen und durch 18 zu teilen. So berechneten wir die drei geforderten
	    Drehfrequenzen. Der Algorithmus steht in den Codes, die drei
	    Amplitudenspektren sehen folgendermaßen aus:
	    
	     \begin{center}
                \begin{tabular}{ll}
    
                \hspace{-12em}
                    \begin{minipage}{0.6\textwidth}
    
                        \begin{figure}[H]
                            \label{fig:}
                            \includegraphics[scale=0.65, trim = 3cm 9cm 3cm
                            8.5cm, clip]{./Bilder/ampl_spektrum_messung1}
                            %FIXME [width=640px,
                             %height=474px]
                            \caption{Spektrum des Motorstroms bei 10V}
                        \end{figure}
    
                    \end{minipage}
                    \begin{minipage}{0.6\textwidth}
    
                        \begin{figure}[H]
                            \label{fig:}
                            \includegraphics[scale=0.65, trim = 3cm 9cm 3cm
                            8.5cm,
                            clip]{./Bilder/ampl_spektrum_messung2}
                            %FIXME [width=640px,
                             %height=474px]
                            \caption{Spektrum des Motorstroms bei 20V}
                        \end{figure}
                    \vspace{-1.5em}
    
                    \end{minipage}
    
                \end{tabular}
                \end{center}
	           
	           
	           \begin{figure}[H]
                    \centering
                        \includegraphics[scale=0.5, trim = 1cm 8cm 1.5cm 8cm,
                        clip]{./Bilder/ampl_spektrum_messung3}
                        \caption{Spektrum des Motorstroms bei 30V}
               \end{figure}
	    
	    Die berechneten Drehfrequenzen betragen für die erste Messung ($10V$) =
	    $2.1389 Hz$, für die zweite Messung ($20V$) = $6.3056 Hz$ und für die
	    dritte Messung ($30V$) = $10.4723 Hz$.\\
	    
	    Außerdem wurden die Drehfrequenzen auch aus den jeweiligen Tachosignalen
	    bestimmt. Dafür wurde genauso vogegangen wie bei den Motorströmen. Die
	    Spektren sind hier:
	       
         \begin{center}
                \begin{tabular}{ll}
    
                \hspace{-12em}
                    \begin{minipage}{0.6\textwidth}
    
                        \begin{figure}[H]
                            \label{fig:}
                            \includegraphics[scale=0.65, trim = 3cm 9cm 3cm
                            8.5cm, clip]{./Bilder/ampl_spektrum_messung1_tacho}
                            %FIXME [width=640px,
                             %height=474px]
                            \caption{Spektrum des Tachosignals bei 10V}
                        \end{figure}
    
                    \end{minipage}
                    \begin{minipage}{0.6\textwidth}
    
                        \begin{figure}[H]
                            \label{fig:}
                            \includegraphics[scale=0.65, trim = 3cm 9cm 3cm
                            8.5cm,
                            clip]{./Bilder/ampl_spektrum_messung2_tacho}
                            %FIXME [width=640px,
                             %height=474px]
                            \caption{Spektrum des Tachosignals bei 20V}
                        \end{figure}
                    \vspace{-1.5em}
    
                    \end{minipage}
    
                \end{tabular}
                \end{center}
               
               
               \begin{figure}[H]
                    \centering
                        \includegraphics[scale=0.5, trim = 1cm 8cm 1.5cm 8cm,
                        clip]{./Bilder/ampl_spektrum_messung3}
                        \caption{Spektrum des Tachosignals bei 30V}
               \end{figure}
               
        Die anhand der Tachosignale berechneten Drehfrequenzen betragen für die
        erste Messung ($10V$) = $8.6945 Hz$, für die zweite Messung ($20V$) =
        $25.2503 Hz$ und für die dritte Messung ($30V$) = $41.9171 Hz$.\\
	    Es fällt auf, dass die Drehzahlen, welche über die Ströme berechnet werden,
	    ca. 4mal kleiner sind als die Drehzahlen über die Tachowerte. Ein
	    konstanter Faktor von 4 kann angenommen werden.
	    
	    \end{quote}%ende Drehzahl-Berechnung anhand Amplitudenspektrum des
	    % Motorstroms
        
	    
	\end{quote}
	
   %\subsection{Vorbereitungsaufgaben zu Termin 8}
    %\begin{quote}
 
	%\end{quote}%Ende Vorbereitungsaufgaben zu Termin 8	
\end{quote}%Ende Vorbereitungsaufgaben

% \section{Durchführungen}
% \begin{quote}
% 		
% 		\subsection{Durchführung zu Termin 7}
% 		\begin{quote}
% 			
% 		\end{quote}%Ende der Durchführung von Termin 7
% 		
% 		\subsection{Durchführung zu Termin 8}
% 		\begin{quote}
% 		
% 		\end{quote}%Ende der Durchführungen von Termin 8
% 		
% \end{quote}%Ende Durchführungen


%--------------------------------------------------------------------
%--------------------------------------------------------------------
% \section{Auswertung}
% \begin{quote}
% 	\subsection{Auswertung Termin 7}
%     \begin{quote}
% 
%     \end{quote}  % Ende Subsection Auswertung Termin 7
%     
%     \subsection{Auswertung Termin 8}
%     \begin{quote}
%     
%    
%         
%     \end{quote}  % Ende Subsection Auswertung Termin 8
% \end{quote} %Ende section

%--------------------------------------------------------------------
%--------------------------------------------------------------------    


%--------------------------------------------------------------------
%--------------------------------------------------------------------
\section{Quellcodes}
\begin{quote}

	\subsection{Codes aus Termin 7}
	\begin{quote}
% 	    \subsubsection{FIRfilterung.m}
% 	    \begin{quote}
% 	        \lstinputlisting[
% 	            caption={FIRfilterung},
% 	            label=lst:Matlab]
% 	            {./Matlab/FIRfilterung.m}
% 	    \end{quote}
% 	    
% 	    \subsubsection{getFIRTiefpass.m}
% 	    \begin{quote}
% 	        \lstinputlisting[
% 	            caption={getFIRTiefpass},
% 	            label=lst:Matlab]
% 	            {./Matlab/getFIRTiefpass.m}
% 	    \end{quote}
% 
%         \subsubsection{Testfunktion.m}
%         \begin{quote}
%             \lstinputlisting[
%                 caption={Testfunktion},
%                 label=lst:Matlab]
%                 {./Matlab/Testfunktion.m}
%         \end{quote}
% 	    
% 	    \subsubsection{DecimFilt.m}
% 	    \begin{quote}
% 	        \lstinputlisting[
% 	            caption={DecimFilt},
% 	            label=lst:Matlab]
% 	            {./Matlab/DecimFilt.m}
% 	    \end{quote}
	    
	\end{quote}
\end{quote}

%--------------------------------------------------------------------
%--------------------------------------------------------------------


%\begin{thebibliography}{999}
%\bibitem {Schaltungwandlerbox} Prof. Dr.-Ing. Gühmann, Clemens; Dipl.-Ing. Funk, Jürgen: MDVLaborGeraete_web, S.4

%Name, Vorname.; evtl. Name2, Vorname2.: Titel des Dokumentes
%oder Buches, Zeitschrift/Verlag/URL (Auflage, Erscheinungsort, -jahr), ggf. Seitenzahlen
%\bibitem {PasevalscheTheorem} \url{https://de.wikipedia.org/wiki/Parsevalsches_Theorem}, Zugriff
%23.05.2012
%\end{thebibliography}


\end{document}


